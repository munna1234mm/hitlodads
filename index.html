<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Premium VIP Dashboard</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;family=Playfair+Display:wght@700;900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />
    <style type="text/tailwindcss">
        :root {
            --obsidian: #050505;
            --card-bg: #0C0C0C;
            --gold-light: #F9E29B;
            --gold-primary: #D4AF37;
            --gold-dark: #8A6D3B;
            --gold-gradient: linear-gradient(135deg, #F9E29B 0%, #D4AF37 45%, #8A6D3B 100%);
            --gold-glow: 0 0 15px rgba(212, 175, 55, 0.15);
            --inner-glow: inset 0 0 12px rgba(212, 175, 55, 0.08);
        }
        .vip-gold-text {
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .premium-card {
            background: var(--card-bg);
            border: 1px solid rgba(212, 175, 55, 0.2);
            box-shadow: var(--inner-glow);
            border-radius: 24px;
        }
        .gold-coin {
            background: var(--gold-gradient);
            box-shadow: 0 4px 10px rgba(0,0,0,0.5), inset 0 2px 2px rgba(255,255,255,0.5), inset 0 -2px 2px rgba(0,0,0,0.3);
            border: 1px solid #B8860B;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        body {
            background-color: var(--obsidian);
            -webkit-tap-highlight-color: transparent;
        }
        .icon-3d {
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body class="text-slate-100 font-sans min-h-screen pb-28">
    <nav
        class="sticky top-0 z-50 px-6 py-4 bg-[#050505]/90 backdrop-blur-xl border-b border-white/5 flex items-center justify-between">
        <div class="flex items-center gap-3">
            <div class="gold-coin w-10 h-10 rounded-full flex items-center justify-center">
                <span class="material-symbols-outlined text-black font-bold text-xl">stat_3</span>
            </div>
            <h1 class="font-display text-xl font-black tracking-widest vip-gold-text">VIP ELITE</h1>
        </div>
        <div class="flex items-center gap-4">
            <div class="relative">
                <span class="material-symbols-outlined text-slate-400">notifications</span>
                <span class="absolute top-0 right-0 w-2 h-2 bg-primary rounded-full border border-black"></span>
            </div>
            <button class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 border border-white/10">
                <span class="material-symbols-outlined text-white">menu</span>
            </button>
        </div>
    </nav>
    <header class="px-6 pt-8 pb-4">
        <div class="flex items-center justify-between mb-8">
            <div class="flex items-center gap-4">
                <div class="relative">
                    <a href="profile.html"
                        class="w-16 h-16 rounded-full p-[2px] bg-gradient-to-tr from-gold-dark via-gold-light to-gold-dark shadow-lg block">
                        <img id="user-avatar" alt="User Avatar"
                            class="w-full h-full rounded-full object-cover border-2 border-black"
                            src="https://lh3.googleusercontent.com/aida-public/AB6AXuBGL2m-Avuc-7ToaD3wp2Q3nZECNJWiIpwQsMJ2z-UZXX8XYgc1vIj7Z0JIfHO2nS2OBNRoBxl-TZphnjWyg7tallPDR-JuectX-Z_h0VNmq8qSdMX-lopLHGtH-GcXtgIs2WtSfvk-EUle-5n1Xz4v0KIGw00LqmKPZ8kHTO_hkVIn7Z49s7Hv1OappINZs2H0-DgbFWs5yyfbkSQTGZENdTOYW3z4TBvdhYtQwnTOn-Ul30Ul4--fd3CBC6Rfshtj4VFO8_Hc6VQ" />
                    </a>
                    <div
                        class="absolute -bottom-1 -right-1 gold-coin rounded-full w-6 h-6 flex items-center justify-center border border-black">
                        <span class="material-symbols-outlined text-[14px] text-black font-black">star</span>
                    </div>
                </div>
                <div>
                    <div class="flex items-center gap-1.5">
                        <h2 id="user-name" class="font-bold text-xl">Crazy Developer BD</h2>
                        <span class="material-symbols-outlined text-blue-400 text-lg fill-1">verified</span>
                    </div>
                    <p class="text-xs font-bold tracking-widest text-slate-500 uppercase">Executive Member</p>
                </div>
            </div>
        </div>
        <a href="analytics.html" class="space-y-1">
            <h3 class="text-3xl font-black tracking-tight text-white">The Gold Standard</h3>
            <p class="text-sm text-slate-500 font-medium">Your portfolio is performing <span
                    class="text-green-500">+12.5%</span> today</p>
        </a>
    </header>
    <main class="px-6 space-y-6">
        <div class="grid grid-cols-2 gap-4">
            <a href="analytics.html" class="premium-card p-5 relative overflow-hidden group">
                <div class="absolute top-0 right-0 p-2 opacity-20">
                    <span class="material-symbols-outlined text-4xl icon-3d">account_balance_wallet</span>
                </div>
                <div class="relative z-10">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="material-symbols-outlined text-xl icon-3d">payments</span>
                        <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Balance</span>
                    </div>
                    <div class="space-y-0.5">
                        <p id="balance-display" class="text-xl font-black font-display text-white">3,223.20</p>
                        <p class="text-[10px] font-bold text-green-500 flex items-center gap-0.5">
                            <span class="material-symbols-outlined text-[12px]">trending_up</span> BDT TODAY
                        </p>
                    </div>
                </div>
            </a>
            <div class="premium-card p-5 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-2 opacity-20">
                    <span class="material-symbols-outlined text-4xl icon-3d">generating_tokens</span>
                </div>
                <div class="relative z-10">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="material-symbols-outlined text-xl icon-3d">toll</span>
                        <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Tokens</span>
                    </div>
                    <div class="space-y-0.5">
                        <p id="tokens-display" class="text-xl font-black font-display text-white">253 BTTC</p>
                        <p class="text-[10px] font-bold text-blue-400">+207 TODAY</p>
                    </div>
                </div>
            </div>
            <div class="premium-card p-5 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-2 opacity-20">
                    <span class="material-symbols-outlined text-4xl icon-3d">groups</span>
                </div>
                <div class="relative z-10">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="material-symbols-outlined text-xl icon-3d">group_add</span>
                        <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Referrals</span>
                    </div>
                    <div class="space-y-0.5">
                        <p id="referrals-count" class="text-xl font-black font-display text-white">144</p>
                        <p class="text-[10px] font-bold text-indigo-400">ELITE TIER</p>
                    </div>
                </div>
            </div>
            <a href="tasks.html" class="premium-card p-5 relative overflow-hidden">
                <div class="absolute top-0 right-0 p-2 opacity-20">
                    <span class="material-symbols-outlined text-4xl icon-3d">verified_user</span>
                </div>
                <div class="relative z-10">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="material-symbols-outlined text-xl icon-3d">task_alt</span>
                        <span class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Tasks</span>
                    </div>
                    <div class="space-y-0.5">
                        <p id="tasks-progress" class="text-xl font-black font-display text-white">09/10</p>
                        <p class="text-[10px] font-bold text-amber-500">90% COMPLETE</p>
                    </div>
                </div>
            </a>
        </div>
        <div
            class="relative overflow-hidden p-8 rounded-[32px] border border-[#D4AF37]/40 bg-gradient-to-br from-[#121212] to-black shadow-[0_20px_50px_rgba(0,0,0,0.5)] group">
            <div class="absolute top-0 right-0 -mr-12 -mt-12 w-48 h-48 bg-[#D4AF37]/10 rounded-full blur-[80px]"></div>
            <div class="absolute bottom-0 left-0 -ml-12 -mb-12 w-48 h-48 bg-[#D4AF37]/5 rounded-full blur-[80px]"></div>
            <div class="relative z-10 flex flex-col gap-5">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 bg-[#D4AF37]/10 border border-[#D4AF37]/20 rounded-full w-fit">
                    <span class="material-symbols-outlined text-[14px] text-[#D4AF37] fill-1">workspace_premium</span>
                    <span class="text-[10px] font-black text-[#D4AF37] uppercase tracking-widest">Limited Offer</span>
                </div>
                <div class="space-y-2">
                    <h4 class="font-display text-2xl font-black text-white leading-tight">Double Rewards <br /><span
                            class="vip-gold-text">Weekend Activation</span></h4>
                    <p class="text-sm text-slate-400 max-w-[220px] leading-relaxed">Boost your network earnings by <span
                            class="text-white font-bold">11% commission</span> for every elite invite.</p>
                </div>
                <button
                    class="gold-coin w-fit px-8 py-3.5 rounded-2xl text-black text-xs font-black uppercase tracking-[0.2em] shadow-xl hover:scale-[1.02] transition-transform flex items-center gap-2">
                    Claim Reward
                    <span class="material-symbols-outlined text-sm font-black">arrow_forward</span>
                </button>
            </div>
            <div
                class="absolute right-[-20px] bottom-[-20px] opacity-[0.07] pointer-events-none transform rotate-12 group-hover:scale-110 transition-transform duration-1000">
                <span class="material-symbols-outlined text-[200px] text-white">diamond</span>
            </div>
        </div>
        <div class="space-y-4">
            <div class="flex items-center justify-between">
                <h4 class="text-[11px] font-black uppercase tracking-[0.2em] text-slate-500">Membership Tiers</h4>
                <button class="text-[11px] font-black text-[#D4AF37] uppercase tracking-widest">Upgrade</button>
            </div>
            <div class="flex gap-4 overflow-x-auto pb-4 no-scrollbar -mx-6 px-6">
                <div class="min-w-[140px] premium-card p-5 text-center opacity-40 border-white/5">
                    <div
                        class="w-14 h-14 mx-auto mb-4 rounded-full bg-white/5 flex items-center justify-center border border-white/10">
                        <span class="material-symbols-outlined text-slate-400 text-3xl">military_tech</span>
                    </div>
                    <p class="text-[10px] font-black uppercase tracking-widest text-slate-400">Silver</p>
                </div>
                <div
                    class="min-w-[150px] premium-card p-5 text-center relative border-[#D4AF37]/60 shadow-[#D4AF37]/10 shadow-xl">
                    <div
                        class="absolute -top-3 left-1/2 -translate-x-1/2 gold-coin px-3 py-1 rounded-full border-black">
                        <span class="text-[8px] font-black text-black uppercase tracking-tighter">Current</span>
                    </div>
                    <div
                        class="w-14 h-14 mx-auto mb-4 rounded-full bg-[#D4AF37]/10 flex items-center justify-center border border-[#D4AF37]/30">
                        <span class="material-symbols-outlined text-[#D4AF37] text-3xl fill-1">emoji_events</span>
                    </div>
                    <p class="text-[10px] font-black uppercase tracking-widest vip-gold-text">Gold VIP</p>
                </div>
                <div class="min-w-[140px] premium-card p-5 text-center opacity-40 border-white/5">
                    <div
                        class="w-14 h-14 mx-auto mb-4 rounded-full bg-white/5 flex items-center justify-center border border-white/10">
                        <span class="material-symbols-outlined text-slate-400 text-3xl">diamond</span>
                    </div>
                    <p class="text-[10px] font-black uppercase tracking-widest text-slate-400">Platinum</p>
                </div>
            </div>
        </div>
    </main>
    <nav
        class="fixed bottom-0 left-0 right-0 bg-black/95 border-t border-white/5 px-8 py-5 backdrop-blur-2xl flex items-center justify-between z-50">
        <div class="flex flex-col items-center gap-1.5">
            <span class="material-symbols-outlined text-[#D4AF37] fill-1">home</span>
            <span class="text-[9px] font-black uppercase tracking-widest text-[#D4AF37]">Home</span>
        </div>
        <a href="tasks.html" class="flex flex-col items-center gap-1.5 text-slate-600">
            <span class="material-symbols-outlined">account_balance</span>
            <span class="text-[9px] font-black uppercase tracking-widest">Earn</span>
        </a>
        <a href="wallet.html" class="flex flex-col items-center gap-1.5">
            <div
                class="gold-coin w-12 h-12 rounded-2xl flex items-center justify-center -mt-10 shadow-2xl border-2 border-black">
                <span class="material-symbols-outlined text-black font-black text-2xl">account_balance_wallet</span>
            </div>
        </a>
        <a href="referral.html" class="flex flex-col items-center gap-1.5 text-slate-600">
            <span class="material-symbols-outlined">redeem</span>
            <span class="text-[9px] font-black uppercase tracking-widest">Refer</span>
        </a>
        <a href="profile.html" class="flex flex-col items-center gap-1.5 text-slate-600">
            <span class="material-symbols-outlined text-2xl">person</span>
            <span class="text-[9px] font-black uppercase tracking-widest">Profile</span>
        </a>
    </nav>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script>
        // Initialize Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Get User Data from Telegram
        const tgUser = tg.initDataUnsafe.user || {
            id: '5702521445',
            first_name: 'Crazy Developer',
            last_name: 'BD',
            username: 'crazydevbd',
            photo_url: 'https://lh3.googleusercontent.com/aida-public/AB6AXuBGL2m-Avuc-7ToaD3wp2Q3nZECNJWiIpwQsMJ2z-UZXX8XYgc1vIj7Z0JIfHO2nS2OBNRoBxl-TZphnjWyg7tallPDR-JuectX-Z_h0VNmq8qSdMX-lopLHGtH-GcXtgIs2WtSfvk-EUle-5n1Xz4v0KIGw00LqmKPZ8kHTO_hkVIn7Z49s7Hv1OappINZs2H0-DgbFWs5yyfbkSQTGZENdTOYW3z4TBvdhYtQwnTOn-Ul30Ul4--fd3CBC6Rfshtj4VFO8_Hc6VQ'
        };

        const userId = tgUser.id.toString();
        const userRef = db.ref('users/' + userId);

        // Set initial UI from Telegram SDK
        document.getElementById('user-name').innerText = (tgUser.first_name + ' ' + (tgUser.last_name || '')).trim();
        if (tgUser.photo_url) document.getElementById('user-avatar').src = tgUser.photo_url;

        let currentTokenSymbol = 'BTTC';
        db.ref('settings/tokenName').on('value', (snap) => {
            if (snap.exists()) {
                currentTokenSymbol = snap.val();
                document.querySelectorAll('.token-symbol-display').forEach(el => el.innerText = currentTokenSymbol);
                // Refresh token display if user data already exists
                userRef.once('value', (s) => {
                    const d = s.val();
                    if (d && d.tokens !== undefined) {
                        document.getElementById('tokens-display').innerText = d.tokens + ' ' + currentTokenSymbol;
                    }
                });
            }
        });

        // Sync data from Firebase to UI
        userRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                // Check if user is banned
                if (data.isBanned) {
                    document.body.innerHTML = `
                        <div class="min-h-screen bg-black flex items-center justify-center p-6 text-center">
                            <div class="premium-card p-10 border-red-500/30">
                                <span class="material-symbols-outlined text-red-500 text-6xl mb-4">block</span>
                                <h1 class="text-2xl font-black text-white mb-2 uppercase tracking-tight">Access Suspended</h1>
                                <p class="text-neutral-400 text-sm">Your account has been restricted by the administrator.</p>
                                <p class="text-neutral-500 text-[10px] mt-6 uppercase tracking-widest font-black">Secure Member Network</p>
                            </div>
                        </div>`;
                    return;
                }

                // Update UI with Firebase data
                if (data.name) document.getElementById('user-name').innerText = data.name;
                if (data.photo_url) document.getElementById('user-avatar').src = data.photo_url;
                if (data.balance !== undefined) document.getElementById('balance-display').innerText = data.balance.toLocaleString(undefined, { minimumFractionDigits: 2 });
                if (data.tokens !== undefined) document.getElementById('tokens-display').innerText = data.tokens + ' ' + currentTokenSymbol;
                if (data.referrals !== undefined) document.getElementById('referrals-count').innerText = data.referrals;
                if (data.tasksCompleted !== undefined) document.getElementById('tasks-progress').innerText = `${data.tasksCompleted}/10`;
            } else {
                // Auto-create profile for new user
                const displayName = (tgUser.first_name + ' ' + (tgUser.last_name || '')).trim() || tgUser.username || 'VIP Member';
                userRef.set({
                    id: userId,
                    name: displayName,
                    username: tgUser.username || '',
                    photo_url: tgUser.photo_url || 'https://lh3.googleusercontent.com/aida-public/AB6AXuBGL2m-Avuc-7ToaD3wp2Q3nZECNJWiIpwQsMJ2z-UZXX8XYgc1vIj7Z0JIfHO2nS2OBNRoBxl-TZphnjWyg7tallPDR-JuectX-Z_h0VNmq8qSdMX-lopLHGtH-GcXtgIs2WtSfvk-EUle-5n1Xz4v0KIGw00LqmKPZ8kHTO_hkVIn7Z49s7Hv1OappINZs2H0-DgbFWs5yyfbkSQTGZENdTOYW3z4TBvdhYtQwnTOn-Ul30Ul4--fd3CBC6Rfshtj4VFO8_Hc6VQ',
                    balance: 0.00,
                    tokens: 0,
                    referrals: 0,
                    tasksCompleted: 0,
                    joinedAt: firebase.database.ServerValue.TIMESTAMP
                });
            }
        });

        // Example interaction: Claim Reward
        function claimReward() {
            userRef.transaction((currentData) => {
                if (currentData) {
                    currentData.balance = (currentData.balance || 0) + 100; // Gift 100 BDT
                    currentData.tokens = (currentData.tokens || 0) + 10; // Gift 10 BTTC
                }
                return currentData;
            });
            tg.HapticFeedback.notificationOccurred('success');
            alert('Reward Claimed! +100 BDT and +10 BTTC added to your account.');
        }

        // Attach event listener to the Claim Reward button
        document.addEventListener('DOMContentLoaded', () => {
            const claimBtn = document.querySelector('button.gold-coin');
            if (claimBtn && claimBtn.innerText.includes('Claim Reward')) {
                claimBtn.onclick = claimReward;
            }
        });
    </script>
</body>

</html>